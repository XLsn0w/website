# 微信跳一跳游戏辅助

本源码主要来自知乎 xtutu 的分享，在此感谢。

在之前源码的基础上，做了以下优化：

增加了配置界面，更方便普通玩家使用。

增加了对更多分辨率的支持，目前支持 720x1280,1080x1920,5/5C/5S,6/6s,6P/6sP

开发环境

电脑：Windows 或 Mac

软件：Lua 编辑器、抓色器（可以在官网 http://www.touchsprite.com/tools 下载）

手机：触动精灵（iOS 或者安卓都可以）

工作原理

抓色器远程连接手机截图，找到坐标点和颜色值，作业部落上有使用教程 https://www.touchsprite.com/docs/4955 。

通过 Lua 实现模拟点击


步骤：

安装抓色器（用来截图取点）

越狱手机添加源：apt.touchsprite.com，安装触动精灵

安卓手机 root 后访问官网 http://www.touchsprite.com 下载安卓版触动精灵

在手机上截取跳一跳界面，也可以用抓色器远程截图：打开触动更多界面的局域网广播开关，手机和电脑在同一局域网就可以

在抓色器上打开截图，鼠标放到小人的底部中心点，同时按下 CTRL 和鼠标，在周围也取两个点

生成代码，插入到 main.lua 的找色代码部分（可以用触动精灵的编辑器，远程调试比较方便）

编辑器设备标签页搜索连接设备（也要在同一个局域网），打开脚本点击远程运行（需要提前进入游戏界面）

源码讲解

distanceTimeRate:数字越大表示蓄力时间越长

targetPositionOffset:表示方块最上方的点，距离中心点的偏移

思路

确定自己的当前位置，直接查找像素就可以了（通过抓色器抓小人底部最宽位置的中心点和左右两边的点）

确定目标点位置：可以通过自己当前的位置判断一个大致的范围。

然后通过从左上，到右下角，依次遍历像素。找到方块最上方的像素点。

然后把y + 上一个大概的值来确定。

距离与时间转换：游戏的公式是线性的，直接乘以系数就可以了
